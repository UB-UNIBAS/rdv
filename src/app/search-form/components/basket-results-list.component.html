<div class="tab-pane list-group"
     id="results-pills-basket"
     role="tabpanel"
     aria-labelledby="facet-pills-basket-tab">

  <!-- Zeile aus Treffer-Anzahl und Pagination der Merkliste -->
  <div class="d-flex justify-content-start flex-wrap">

    <!-- Block: Pagination fuer Merlisten-Treffertabelle (keine Auswahlmoeglichkeit wie viele Treffer pro Seite) -->
    <div *ngIf="(numberOfBaskets$ | async) && (currentBasket$ | async).ids.length"
         class="d-flex flex-wrap align-items-center justify-content-between justify-content-md-end flex-auto">

      <app-export-results-list *ngIf="showExportList"></app-export-results-list>
      <!-- TODO: Extract paging -->

      <!-- Paging fuer Merklisten-Treffertabelle -->
      <div class="btn-group btn-group-sm mb-2 mb-md-0"
           role="group"
           aria-label="Small button group">

        <!-- 1. Seite -->
        <button class="btn btn-primary fa fa-angle-double-left"
                (click)="setBasketOffset('first')"
                [disabled]="basketPage == 1">
        </button>

        <!-- nach links blaettern -->
        <button class="btn btn-primary fa fa-angle-left"
                (click)="setBasketOffset(-1)"
                [disabled]="basketPage == 1">
        </button>

        <!-- aktuelle Seite von insgesamt x Seiten -->
        <div class="row-count">{{ basketPage}} / {{basketPages}}</div>

        <!-- nach rechts blaettern -->
        <button class="btn btn-primary fa fa-angle-right"
                (click)="setBasketOffset(1)"
                [disabled]="basketPage == basketPages"></button>

        <!-- letztes Seite -->
        <button class="btn btn-primary fa fa-angle-double-right"
                (click)="setBasketOffset('last')"
                [disabled]="basketPage == basketPages"></button>
      </div>
    </div>
  </div>

  <!-- Merklisten-Treffertabelle -->
  <div *ngIf="numberOfBaskets$ | async"
       class="mt-2 mh-table-view">
    <!-- TODO: Extract header -->

    <!-- Tabellenheader -->
    <div class="d-flex mh-table-header font-weight-bold">

      <!-- Ueber Spaltenfelder gehen -->
      <ng-container *ngFor="let field of tableFields; index as index">

        <!-- Wenn es ein sortierbares Feld ist, Sortierfunktionen setzen -->
        <div *ngIf="field.sort"
             (click)="sortBasketTable(field.sort)"
             [class]="field.css + ' text-center'"
             [class.mh-sort-by-column]="index === sortColumn">{{field.label}}

          <!-- Sortiersymbol -->
          <span [class]="'mh-sort fa ' +
              ((currentBasket$ | async).queryParams.sortField === field.sort ?
              ((currentBasket$ | async).queryParams.sortDir === 'asc' ? 'fa-sort-asc' : 'fa-sort-desc') :
              'fa-sort')">
              </span>
        </div>

        <!-- Wenn es kein sortierbares Feld ist, nur Ueberschrift ausgeben -->
        <div *ngIf="!field.sort"
             [class]="'text-center ' + field.css">{{field.label}}
        </div>
      </ng-container>

      <!-- Letzte Spalte fuer Merkliste -->
      <div class="col-1 text-center">

        <!-- Star als icon -->
        <span class="fa fa-star"></span>
      </div>
    </div>

    <!-- Tabellenzeilen -->
    <div class="mh-table-row d-flex flex-column"
         *ngFor="let doc of currentBasketResults$ | async">
      <app-result-row [doc]="doc"></app-result-row>
    </div>
  </div>
</div>
